"use strict";(self.webpackChunkmhira_docs=self.webpackChunkmhira_docs||[]).push([[679],{3905:function(e,t,r){r.d(t,{Zo:function(){return c},kt:function(){return d}});var n=r(7294);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var p=n.createContext({}),h=function(e){var t=n.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},c=function(e){var t=h(e.components);return n.createElement(p.Provider,{value:t},e.children)},l={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var r=e.components,i=e.mdxType,o=e.originalType,p=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=h(r),d=i,f=u["".concat(p,".").concat(d)]||u[d]||l[d]||o;return r?n.createElement(f,a(a({ref:t},c),{},{components:r})):n.createElement(f,a({ref:t},c))}));function d(e,t){var r=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=r.length,a=new Array(o);a[0]=u;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s.mdxType="string"==typeof e?e:i,a[1]=s;for(var h=2;h<o;h++)a[h]=r[h];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}u.displayName="MDXCreateElement"},2133:function(e,t,r){r.r(t),r.d(t,{assets:function(){return c},contentTitle:function(){return p},default:function(){return d},frontMatter:function(){return s},metadata:function(){return h},toc:function(){return l}});var n=r(7462),i=r(3366),o=(r(7294),r(3905)),a=["components"],s={sidebar_position:5},p="Using shiny apps for reporting",h={unversionedId:"mhira-reporting-guide/using-shiny-apps-for-reporting",id:"mhira-reporting-guide/using-shiny-apps-for-reporting",title:"Using shiny apps for reporting",description:"As discussed, MHIRA allows for the connection of external apps for reporting by adding these apps to the docker setup in which MHIRA is shipped.",source:"@site/docs/5-mhira-reporting-guide/5-using-shiny-apps-for-reporting.md",sourceDirName:"5-mhira-reporting-guide",slug:"/mhira-reporting-guide/using-shiny-apps-for-reporting",permalink:"/documentation/docs/mhira-reporting-guide/using-shiny-apps-for-reporting",draft:!1,editUrl:"https://github.com/mhira-project/documentation/edit/main/docs/5-mhira-reporting-guide/5-using-shiny-apps-for-reporting.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"GraphQL API",permalink:"/documentation/docs/mhira-reporting-guide/graphql_api"},next:{title:"Implementation scenarios",permalink:"/documentation/docs/category/implementation-scenarios"}},c={},l=[{value:"How it works",id:"how-it-works",level:2},{value:"Access to volume shared with shiny server",id:"access-to-volume-shared-with-shiny-server",level:2},{value:"Troubleshooting of the shiny app in the shiny container",id:"troubleshooting-of-the-shiny-app-in-the-shiny-container",level:2}],u={toc:l};function d(e){var t=e.components,r=(0,i.Z)(e,a);return(0,o.kt)("wrapper",(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"using-shiny-apps-for-reporting"},"Using shiny apps for reporting"),(0,o.kt)("p",null,"As discussed, MHIRA allows for the connection of external apps for reporting by adding these apps to the ",(0,o.kt)("a",{parentName:"p",href:"https://www.docker.com/"},"docker setup")," in which MHIRA is shipped.\nBy default, MHIRA comes with a shiny server ",(0,o.kt)("a",{parentName:"p",href:"https://www.rstudio.com/products/shiny/shiny-server/"},"shiny")," as well as a rstudio server to facilitate setting up the shiny apps. The rstudio container is disabled by default and ",(0,o.kt)("a",{parentName:"p",href:"docs/installation-guide/rstudio"},"needs to be activated")),(0,o.kt)("h2",{id:"how-it-works"},"How it works"),(0,o.kt)("p",null,"The ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/mhira-project/mhira-docker"},"MHIRA docker installation")," comes with a shiny server in a ",(0,o.kt)("a",{parentName:"p",href:"https://hub.docker.com/r/rocker/shiny-verse"},"docker container"),"."),(0,o.kt)("p",null,"When installing MHIRA, settings can be modified in the .env file (see ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/mhira-project/mhira-docker"},"MHIRA installation reporitory"),").\nThe .env file contains the setting for the data save path. "),(0,o.kt)("p",null,"After installation of MHIRA, you will find a folder called 'shiny' under the data save path. Under the default settings, this will be: '.mhira-docker/data/shiny' in your home directory.\nFor the app in the current repository to work, you need to copy it to the 'apps' folder inside this folder."),(0,o.kt)("p",null,"It should then look like this: "),(0,o.kt)("p",null,"'.mhira-docker/data/shiny/apps/patient-report'"),(0,o.kt)("p",null,"A good way to achive this is to navigate to '.mhira-docker/data/shiny/apps/' and then to clone the current repository"),(0,o.kt)("p",null,"Now the shiny app should be available under the url 'localhost/shiny' which you can enter to your local browser. "),(0,o.kt)("p",null,"The app will not yet work, because it expects addtional parameters in the url. "),(0,o.kt)("p",null,"You can start the shiny app from within MHIRA pressing the connected reporting button. This will redirect you to the shiny app you just installed. "),(0,o.kt)("h2",{id:"access-to-volume-shared-with-shiny-server"},"Access to volume shared with shiny server"),(0,o.kt)("p",null,"The shiny docker container and the rstudio container share the volume 'shiny_apps'.\nWhen logging into rstudio, you will find a folder with the name 'shiny_apps' in your home folder.\nShiny apps copied into this folder will be accessible via the shiny server docker container. Try the url 'www.yourmhiradomain/shiny' for a list of apps available via the shinyserver . "),(0,o.kt)("p",null,"You can, thus, use the rstudio server container to add and modify shiny apps (served via the shiny container) for mhira.  "),(0,o.kt)("h2",{id:"troubleshooting-of-the-shiny-app-in-the-shiny-container"},"Troubleshooting of the shiny app in the shiny container"),(0,o.kt)("p",null,"If you want to see output from the shiny app you can attach the container to your terminal using "),(0,o.kt)("p",null,"Intructions can be found ",(0,o.kt)("a",{parentName:"p",href:"https://docs.docker.com/engine/reference/commandline/logs/"},"here")))}d.isMDXComponent=!0}}]);