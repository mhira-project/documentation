"use strict";(self.webpackChunkmhira_docs=self.webpackChunkmhira_docs||[]).push([[186],{3905:function(e,t,r){r.d(t,{Zo:function(){return u},kt:function(){return h}});var n=r(7294);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var s=n.createContext({}),c=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},u=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},l={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,i=e.mdxType,a=e.originalType,s=e.parentName,u=p(e,["components","mdxType","originalType","parentName"]),d=c(r),h=i,g=d["".concat(s,".").concat(h)]||d[h]||l[h]||a;return r?n.createElement(g,o(o({ref:t},u),{},{components:r})):n.createElement(g,o({ref:t},u))}));function h(e,t){var r=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=r.length,o=new Array(a);o[0]=d;var p={};for(var s in t)hasOwnProperty.call(t,s)&&(p[s]=t[s]);p.originalType=e,p.mdxType="string"==typeof e?e:i,o[1]=p;for(var c=2;c<a;c++)o[c]=r[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},8826:function(e,t,r){r.r(t),r.d(t,{assets:function(){return u},contentTitle:function(){return s},default:function(){return h},frontMatter:function(){return p},metadata:function(){return c},toc:function(){return l}});var n=r(7462),i=r(3366),a=(r(7294),r(3905)),o=["components"],p={sidebar_position:3},s="GraphQL API",c={unversionedId:"mhira-reporting-guide/graphql_api",id:"mhira-reporting-guide/graphql_api",title:"GraphQL API",description:"The reporting app will need to request data via MHIRA's API.",source:"@site/docs/5-mhira-reporting-guide/3-graphql_api.md",sourceDirName:"5-mhira-reporting-guide",slug:"/mhira-reporting-guide/graphql_api",permalink:"/documentation/docs/mhira-reporting-guide/graphql_api",draft:!1,editUrl:"https://github.com/mhira-project/documentation/edit/main/docs/5-mhira-reporting-guide/3-graphql_api.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Overview",permalink:"/documentation/docs/mhira-reporting-guide/overview"},next:{title:"Integrating Shiny Apps for Reporting with MHIRA",permalink:"/documentation/docs/mhira-reporting-guide/using-shiny-apps-for-reporting"}},u={},l=[],d={toc:l};function h(e){var t=e.components,r=(0,i.Z)(e,o);return(0,a.kt)("wrapper",(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"graphql-api"},"GraphQL API"),(0,a.kt)("p",null,"The reporting app will need to request data via MHIRA's API.\nThis API uses the ",(0,a.kt)("a",{parentName:"p",href:"https://graphql.org/"},"GraphQL query language"),".\nWe recommend to look into the materials and examples on the this websit for a deeper understaning of the query language.\nSofware packages to handle the GraphQL server side and client side are available.\nThe reporting tool in MHIRA is a client while the server side is part of MHIRA. "),(0,a.kt)("p",null,"For our R implementation, we used ",(0,a.kt)("a",{parentName:"p",href:"https://gist.github.com/rentrop/83cb1d8fc8593726a808032e55314019"},"this")," R function. "),(0,a.kt)("h1",{id:"access-token"},"Access token"),(0,a.kt)("p",null,"To get access to MHIRA's API, you will need a valid JWT access token. This token is obtained when logging into MHIRA with valid credentials (username and password). The token is saved in the session of the browser and is available for all websites running on the same domain.\nAs the reporting app is served from the same domain, it can use the access token in the browswer session.   "),(0,a.kt)("h1",{id:"accessing-the-api-from-other-contaiers"},"Accessing the API from other contaiers"),(0,a.kt)("p",null,"Via the docker container network, the graphQL API can be accessed with the URL 'mhira-backend:3000/graphql'"),(0,a.kt)("h1",{id:"playground"},"Playground"),(0,a.kt)("p",null,"In the .env file the graphQL playground can be activated by setting"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"GRAPHQL_PLAYGROUND_ENABLED=true\n")))}h.isMDXComponent=!0}}]);